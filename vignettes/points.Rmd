---
title: "Points"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{points}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
library(ggpathdiagramr)
library(ggplot2)
library(dplyr)
```

```{r setup}
library(ggpathdiagramr)
library(ggplot2)
library(dplyr)
```

Points have x and y coordinates. 

```{r points}
p1 <- point(1,0)
p2 <- point(0,1)
```

Technically, a point is not a geometric vector, but the `point` object contains information about the vector that starts in the origin and ends at the point:

* `@distance`: The distance from the origin to the point (i.e., the vector's magnitude)
* `@slope`: The slope of the line containing the vector
* `@angle`: The angle (in radians) from the line on the x-axis to the line containing the vector.

```{r}
p3
p3@distance
p3@slope
p3@angle
```

A point can be created with radial coordinates

```{r}
point(distance = 5, angle = angle(degree = 60))
```

If the angle is numeric instead of an angle, it is assumed to be in radians. The advantage of using the angle function is that under the hood, the `sinpi`, `cospi`, and `tanpi` functions are used to get the rounding right at key locations. For example, compare the y coordinate at $pi$ radians vs. 180 degrees:

```{r}
point(distance = 1, angle = pi)@y
point(distance = 1, angle = angle(degree = 180))@y

```


A point can be converted to a 1 &times; 2 matrix:

```{r}
p3@xy
as.matrix(p3)
```

# Methods

## Arithmetic

Points can be added and subtracted:

```{r}
p3 <- p1 + p2
p3
p3 - p2
```

Points can be scaled with constants

```{r}
p3 * 2
p3 / 4
```

# Distance

The distance between two points:

```{r}
distance(p1, p2)
```

The shortest distance from a point to a line:

```{r}
l1 <- line(slope = 1, intercept = 2)
distance(p1, l1)
```

The shortest distance from a point to a circle's edge:

```{r}
c1 <- circle(center = point(0,0), radius = 1)
# p1 is on circle, so its distance is 0
distance(p1, c1)
# p3 is outside the circle
distance(p3, c1)
# p4 is inside the circle
p4 <- point(0,.5)
distance(p4, c1)
```

```{r}
par(asp = 1)
plot(NULL, NULL, xlim = c(-1.25,1.25), ylim = c(-1.25,1.25), asp = 1)
plot(c1)
plot(p1)
plot(p3)
plot(p4)
text(point_list(c(p1,p3,p4))@xy, labels = paste0("p", c(1,3,4)), pos = 4)
```

```{r}
ggplot() +
  coord_equal() + 
  xlim(-3,3) + 
  ylim(-3,3) +
  p1
```



# Point Lists

Points can be concatenated in a list like any other object.

```{r}
c(p1, p2)
```

However, extracting properties from that list is make more convenient if the list is made into a `point_list`.

```{r}
pl <- point_list(c(p1, p2))
pl@x
pl@y
pl@distance
pl@angle@degree
```


A list of points can also be created like so:

```{r}
pl <- point(x = c(2,4,5), y = c(5,3,2))
pl@xy
```








